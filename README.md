# ìžë°”ìŠ¤í¬ë¦½íŠ¸ ê°œë°œí™˜ê²½ ìƒì„¸ ë¶„ì„

## TODO

- [x] ë°”ë²¨ 
- [ ] ì›¹íŒ©
- [ ] HMR (Hot Module Replacement) ë¶„ì„ê³¼ êµ¬í˜„
- [ ] ëª¨ë…¸ë ˆí¬
- [ ] TypeScript
- [ ] ESLint
- [ ] Prettier

- [ ] Yarn
- [ ] NPM
- [ ] NPX
- [ ] PNPM

- [ ] Jest

- [ ] Rollup
- [ ] Vite
- [ ] Parcel
- [ ] Gulp

- [ ] ëª¨ë…¸ë ˆí¬ë¡œ ë§Œë“¤ì–´ì„œ ê³µí†µ, ê°œë³„ ì„¤ì • í•´ë³´ê¸°

## ë‚´ ìƒê°

- ~~ë°”ë²¨ì˜ ëŒ€ì•ˆì€ ë”±ížˆ ì—†ëŠ” ê²ƒ ê°™ë‹¤.~~ ~~(SWC ëŠ” ì•„ì§ ìƒíƒœê³„ê°€ ë¶€ì¡±í•˜ì§€ì•Ÿë‚˜..?)~~
- ë°”ë²¨ì˜ ëŒ€ì•ˆì€ ë¯¸ëž˜ ì°½ì°½í•œ SWC ì´ë‹¤!
- `parcel` ì€ ì ìœ ìœ¨ì„ ìƒê°í•´ ë´¤ì„ë•Œ êµ³ì´ ì•ˆë°°ì›Œë„ ë ê²ƒ ê°™ë‹¤..
- ë²ˆë“¤ëŸ¬ íˆ´ ì¤‘ì—ì„œëŠ” ì›¹íŒ©ì´ ì••ë„ì ì´ë‹¤. í•˜ì§€ë§Œ `rollup` ê³¼ `vite` ì˜ DX ê°€ ë›°ì–´ë‚˜ì„œ ì¶”ê°€ë¡œ ë°°ì›Œë³´ê¸° ì¢‹ì„ ê²ƒ ê°™ë‹¤.

## ë°”ë²¨

> ~~ðŸš¨ ë°”ë²¨ì€ ì½”ë“œê°€ ë¸Œë¼ìš°ì €ì—ì„œ ë™ìž‘í•˜ë„ë¡ ì»´íŒŒì¼ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. **ë¸Œë¼ìš°ì €ì—ì„œ ë™ìž‘í•˜ë„ë¡ í•˜ë ¤ë©´ webpack ê³¼ ê°™ì€ ë²ˆë“¤ëŸ¬ì˜ ì—­í• ìž…ë‹ˆë‹¤.**~~
> ë°”ë²¨ì€ @babel/preset-env ë¥¼ í†µí•´ì„œ "modules" ê°’ì— ë”°ë¼ì„œ module ì‹œìŠ¤í…œì— ë§žì¶° ì»´íŒŒì¼ì„ í•´ì¤€ë‹¤. (commonjs, esmoudle, umd ë“±ë“±..)

> ìµœì‹  ë¬¸ë²•ì„ ì§€ì›í•˜ê¸° ìœ„í•¨ì´ ì²« ë²ˆì§¸ ëª©ì ì¸ë°, ì‚¬ì‹¤ìƒ ìš”ì¦˜ ë¸Œë¼ìš°ì €ëŠ” ECMAScript ë¥¼ ìµœì‹ ë²„ì „ê¹Œì§€ ìž˜ ì§€ì›í•˜ê³  ìžˆì–´ì„œ, ì´ì œëŠ” ê·¸ì € í•„ìš”í•œ ë¬¸ë²•ì„ íŒŒì‹±í•˜ëŠ” ê²ƒì´ ì£¼ëœ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒ ê°™ë‹¤?(ë¬¼ë¡  êµ¬ ë¸Œë¼ìš°ì € ì‚¬ìš©ìžë¥¼ ìœ„í•¨ì´ì§€ë§Œ.. ê±°ì˜ ì•ˆì“°ë‹ˆ)

- ë°”ë²¨ë¡œ ì»´íŒŒì¼ëœ `.js` íŒŒì¼ì€ ë¸Œë¼ìš°ì € ìš©ì´ ì•„ë‹ˆë‹¤. `target` ì„ ë¸Œë¼ìš°ì € ë²„ì „ìœ¼ë¡œ ì–´ëŠ ì •ë„ê¹Œì§€ í´ë¦¬í•„ì´ í•„ìš”í•œì§€ë¥¼ íŒŒì•…í•˜ëŠ”ë° ì‚¬ìš©ë  ë¿, ë¸Œë¼ìš°ì €ì— ëŒì•„ê°ˆ ì½”ë“œë¡œ ë³€í™˜ì€ ë²ˆë“¤ëŸ¬ê°€ í•´ì•¼í•œë‹¤. **(ëª¨ë“ˆì²˜ë¦¬)**
- core js ë¡œ í´ë¦¬í•„ í•˜ê¸°ìœ„í•´ì„œëŠ” `npm i core-js` íŒ¨í‚¤ì§€ë¥¼ ë³„ë„ë¡œ ì„¤ì¹˜í•´ì£¼ì–´ì•¼ í•œë‹¤.
- `polyfill` ë™ìž‘ì€ `core-js` ì—ì„œ `require()` ë˜ê±°ë‚˜ êµ¬í˜„í•œ êµ¬ë¬¸ì´ ì¶”ê°€ëœë‹¤. (ì˜ˆë¥¼ ë“¤ë©´ `async`, `await` ì€ `core-js` ê°€ ì•„ë‹ˆë¼, êµ¬í˜„ì½”ë“œê°€ ì¶”ê°€ëœë‹¤)
- `async function` ê³¼ `generator` ëŠ” í´ë¦¬í•„ í•˜ê¸° ìœ„í•´ì„œ `regenerator-runtime` íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•œë‹¤. (`@babel/preset-env` ì— ë‹¤í¬í•¨ë˜ì–´ìžˆë‹¤)
- `core-js` ì™€ ë§Œì•½ `@babel/polyfill` íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ `devDependencies` ê°€ ì•„ë‹Œ `dependencies` ë¡œ ë²ˆë“¤ì— í¬í•¨ë˜ë„ë¡ ì„¤ì¹˜í•´ ì£¼ëŠ” ê²ƒì´ ì˜¬ë°”ë¥´ë‹¤. (í´ë¦¬í•„ í•˜ëŠ” ë…€ì„ë“¤ì´ë‹ˆê¹Œ)
- ë°”ë²¨ì˜ config ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì ìš©ë  ìˆ˜ ìžˆë‹¤. (ì˜ˆë¥¼ ë“¤ë©´ `babel.config.js`, `.babelrc`, `package.json` ë“±ë“±..) ì£¼ì˜ ì‚¬í•­ìœ¼ë¡œëŠ” ê°ê°ì´ ìš°ì„ ìˆœìœ„ê°€ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì´ë‹¤. (ì˜ˆë¥¼ ë“¤ë©´ `babel.config.js` ê°€ ìš°ì„ ìˆœìœ„ê°€ ê°€ìž¥ ë†’ë‹¤)
  - ìš°ì„  ìˆœìœ„ëŠ” `babel.config.js` > `.babelrc` > `package.json` ì´ë‹¤.

### ë°”ë²¨ config íŒŒì¼ ì¢…ë¥˜

> ê°ê° merge, override ê³¼ì •ì—ì„œ ìš°ì„ ìˆœìœ„ê°€ ë‹¤ë¥´ë‹¤. 

- .babel.config.*
- .babelrc.*
- .babelrc
- package.json (babel key)

### ë°”ë²¨ config ì˜µì…˜

- `@babel/cli` ì˜ ê²½ìš° `kebab-case` ë¡œ ì¶”ê°€í•´ ì¤„ ìˆ˜ ìžˆë‹¤.
- `targets` ì„ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ `ES5` ì™€ í˜¸í™˜ë˜ë„ë¡ í•˜ê¸° ë•Œë¬¸ì—, ì½”ë“œëŸ‰ì„ ì¤„ì´ê¸° ìœ„í•´ì„œ ì„¤ì •í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.
- `"sourceType": "module" `ì„ ì„¤ì •í•˜ë©´ `import` `export` ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. (commonjs ëŠ” node í™˜ê²½ì´ë¼ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ì´ ì„¤ì •ì„ í•˜ë©´ esmoudle ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆê²Œëœë‹¤)
  - "script" ëŠ” `import` `export` ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ìœ¼ë¡œ êµ¬ë¬¸ì„ ë¶„ì„í•œë‹¤.
  - "unambiguous" ëŠ” `import` `export` ë¬¸ë²•ì´ í¬í•¨ë˜ì–´ìžˆìœ¼ë©´ esmoudle ë¡œ, ì•„ë‹ˆë©´ ìŠ¤í¬ë¦½íŠ¸ë¡œ ê°„ì£¼í•œë‹¤.

### Plugin ê³¼ Preset ì˜ ìˆœì„œ

- Plugin > Preset ìˆœì„œë¡œ ì ìš©ëœë‹¤.
- Plugin ë¼ë¦¬ëŠ” `first to last` ìˆœì„œì´ë‹¤.
- Preset ë¼ë¦¬ëŠ” `last to first` ìˆœì„œì´ë‹¤.

### ë§ˆì§€ë§‰ ë°”ë²¨ TODO

- [x] @babel/preset-typescript ë¡œ íƒ€ìž…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ í•´ë³´ê¸°
  -  íƒ€ìž…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì»´íŒŒì¼ í•˜ê¸° ìœ„í•´ì„œëŠ”, `cli` ì˜ ê²½ìš° `--extensions` `.ts` ë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼í•œë‹¤. `config` íŒŒì¼ì—ì„œëŠ” ì„¤ì •í•  ìˆ˜ ì—†ëŠ” ì˜µì…˜ì´ë‹¤.
- [x] ì»¤ìŠ¤í…€ ë°”ë²¨ í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ê¸°

### ì»¤ìŠ¤í…€ í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ê¸°

- íƒ€ìž…ì— ë”°ë¼ì„œ AST ì˜ ê° ë ˆë²¨ë“¤ì˜ êµ¬ì¡°ê°€ ë‹¤ë¥´ë‹¤.

```json5
{
  type: "FunctionDeclaration",
  id: {...},
  params: [...],
  body: {...}
}
```

```json5
{
  type: "Identifier",
  name: ...
}
```

```json5
{
  type: "BinaryExpression",
  operator: ...,
  left: {...},
  right: {...}
}
```

- plugin ì€ ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼í•˜ëŠ”ë°, `visitor` ë¼ëŠ” í‚¤ë¥¼ ê°€ì§€ê³  ìžˆë‹¤.
- `visitor` ëŠ” `key` ê°€ `AST` ì˜ `type` ì´ê³ , ì´ë¥¼ ìž…ë§›ëŒ€ë¡œ ì¡°ì •í•œë‹¤.

> path ëª¨ë“ˆì„ ì‚¬ìš©í•´ì•¼, node ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ëŠ” ìœ„ì¹˜ì— ìƒê´€ì—†ì´, í˜„ìž¬ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆë‹¤.

- `@babel/parser` ëŠ” `parse()` ë©”ì„œë“œë¥¼ í†µí•´ì„œ `AST` ë¥¼ ìƒì„±í•œë‹¤.
- `@babel/traverse` ëŠ” `traverse()` ë©”ì„œë“œë¥¼ í†µí•´ì„œ `AST` ë¥¼ íƒìƒ‰í•œë‹¤. (with `visitor`)
- `@babel/generator` ëŠ” `generate()` ë©”ì„œë“œë¥¼ í†µí•´ì„œ `AST` ë¥¼ ì½”ë“œë¡œ ë³€í™˜í•œë‹¤.
- `@babel/types` ëŠ” `types` ê°ì²´ë¥¼ í†µí•´ì„œ `AST` ë¥¼ ìƒì„± í˜¹ì€ ê²€ì¦ í•œë‹¤.
- `@babel/template` ëŠ” `template()` ë©”ì„œë“œë¥¼ í†µí•´ì„œ `AST` ë¥¼ ìƒì„±í•œë‹¤.
  - %%placeholder%% ë¥¼ í†µí•´ì„œ, `AST` ë¥¼ ìƒì„±í•  ë•Œ, `placeholder` ë¥¼ ë„£ì„ ìˆ˜ ìžˆë‹¤.
  - í˜¹ì€ ëŒ€ë¬¸ìžë¥¼ í†µí•´ì„œ placeholder ë¡œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

## ì›¹íŒ©(Webpack)

- ì›¹íŒ©ì€ ì •ì  ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ì´ë‹¤.
- webpack ì€ ê¸°ë³¸ì ìœ¼ë¡œ javascript ì™€ json ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìžˆë‹¤.
  - í•˜ì§€ë§Œ `loader` ë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ íŒŒì¼ë“¤ì„ ì²˜ë¦¬í•  ìˆ˜ ìžˆë‹¤.
- plugin ì€ ì›¹íŒ©ì˜ ê¸°ëŠ¥ì„ í™•ìž¥í•  ìˆ˜ ìžˆë‹¤.
  - ëŒ€ë¶€ë¶„ì€ new í‚¤ì›Œë“œë¡œ, ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•œë‹¤.

### íë¦„ë„

Entry -> Loaders(babel, less, img...) -> Plugins(ê°œë°œí™˜ê²½, ìµœì í™”..) -> Output

